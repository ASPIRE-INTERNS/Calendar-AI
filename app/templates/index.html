<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ month }} {{ year }} Calendar</title>    
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

</script>
<body>
    <header>
        <h1>Calendar</h1>
    </header>

    <h2>{{ month }} {{ year }}</h2>
    <div class="navigation">
        <a href="{{ url_for('main.calendar_view', year=current_year, month=current_month - 1) }}">&#8592; Previous</a>
    
        <div class="jump-container">
            <select id="jumpMonth">
                <option value="1">Jan</option>
                <option value="2">Feb</option>
                <option value="3">Mar</option>
                <option value="4">Apr</option>
                <option value="5">May</option>
                <option value="6">Jun</option>
                <option value="7">Jul</option>
                <option value="8">Aug</option>
                <option value="9">Sep</option>
                <option value="10">Oct</option>
                <option value="11">Nov</option>
                <option value="12">Dec</option>
            </select>
    
            <input type="number" id="jumpYear" placeholder="Year">
            <button id="jumpButton">Go</button>
        </div>
    
        <a href="{{ url_for('main.calendar_view', year=current_year, month=current_month + 1) }}">Next &#8594;</a>
    </div>
    

    <div class="add-container">
        <button id="addButton">
            <i class="fas fa-plus" style="color: white;"></i>
        </button>
        <div id="addOptions">
            <div class="option" data-type="event">Event</div>
            <div class="option" data-type="reminder">Reminder</div>
            <div class="option" data-type="task">Task</div>
        </div>
              
    </div>    
    
    <!-- Placeholder for Form -->
    <div id="formPopup" class="hidden">
        <form id="eventForm">
            <h2 id="formTitle">Add Item</h2>
        
            <input type="text" id="title" placeholder="Title" required><br>
        
            <textarea id="description" placeholder="Description"></textarea><br>
        
            <input type="date" id="eventDate" required><br>
        
            <input type="time" id="eventTime" required><br>
        
            <select id="recurrence">
                <option value="none">No Recurrence</option>
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
                <option value="yearly">Yearly</option>
            </select><br>
        
            <button type="submit">Save</button>
            <button type="button" onclick="closeForm()">Cancel</button>
        </form>
        
    </div>    
    
    <div class="calendar">
        <!-- Week Days -->
        <div class="day-name">Mon</div>
        <div class="day-name">Tue</div>
        <div class="day-name">Wed</div>
        <div class="day-name">Thu</div>
        <div class="day-name">Fri</div>
        <div class="day-name">Sat</div>
        <div class="day-name">Sun</div>
        <!-- Calendar Days -->
<!-- Calendar Days -->
{% for week in calendar %}
    {% for day in week %}
        {% if day == 0 %}
            <div class="day empty"></div>
        {% elif day == highlight_day %}
            <div class="day today" id="day-{{ day }}">
                {{ day }}
                <div class="event-icons" id="event-icons-{{ day }}"></div> <!-- Container for event icons -->
            </div>
        {% else %}
            <div class="day" id="day-{{ day }}">
                {{ day }}
                <div class="event-icons" id="event-icons-{{ day }}"></div> <!-- Container for event icons -->
            </div>
        {% endif %}
    {% endfor %}
{% endfor %}
  
    </div>
    
    <h2 id="yourEventsHeading" style="display: none;">Your Events</h2>
    <div id="eventList"></div>    

    <div class="logout-container">
        <a href="{{ url_for('auth.change_password') }}" class="btn btn-secondary">
            <i class="fas fa-key"></i> Change Password
        </a>
        <a href="{{ url_for('auth.logout') }}" class="logout-button">
            <i class="fas fa-sign-out-alt"></i>
            Logout
        </a>
    </div>
    
    <div class="button-container">
        <!-- Chatbot Button -->
        <button id="chatbotButton" class="chatbot-button">
            <i class="fas fa-comment-alt"></i>
        </button>

        <!-- Chatbot Dropdown -->
        <div id="chatbotDropdown" class="chatbot-dropdown hidden">
            <div id="chatbotHeader">
                <span>Talk to AI</span>
                <button id="closeChatbot" class="close-button">X</button>
            </div>
            <div id="chatArea">
                <!-- Chat messages will appear here -->
                <div class="user-message">Hello, I need help setting an event!</div>
                <div class="ai-message">Sure! What event would you like to set?</div>
            </div>
            <input type="text" id="userMessage" placeholder="Ask me anything..." />
            <button id="sendMessageButton">Send</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    
</body>
</html>
